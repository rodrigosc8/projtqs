2025-11-05T16:29:17.334Z  INFO 99156 --- [main] p.r.h.s.unit.BookingControllerTest       : Starting BookingControllerTest using Java 21.0.9-ea with PID 99156 (started by rodrigo-costa in /home/rodrigo-costa/Documentos/projtqs/api)
2025-11-05T16:29:17.335Z  INFO 99156 --- [main] p.r.h.s.unit.BookingControllerTest       : No active profile set, falling back to 1 default profile: "default"
2025-11-05T16:29:17.347Z DEBUG 99156 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@58fbecde
2025-11-05T16:29:17.960Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in 'requestMappingHandlerMapping'
2025-11-05T16:29:18.048Z DEBUG 99156 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-05T16:29:18.067Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05T16:29:18.106Z DEBUG 99156 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05T16:29:18.160Z  INFO 99156 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-11-05T16:29:18.160Z  INFO 99156 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-11-05T16:29:18.161Z  INFO 99156 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-11-05T16:29:18.183Z  INFO 99156 --- [main] p.r.h.s.unit.BookingControllerTest       : Started BookingControllerTest in 1.218 seconds (process running for 3.738)
2025-11-05T16:29:18.217Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:18.266Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@53365a58]
2025-11-05T16:29:18.271Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:18.271Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:18.272Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Validation error: Municipality is required
2025-11-05T16:29:18.297Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.298Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:18.308Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#cancelBooking(String)
2025-11-05T16:29:18.313Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : DELETE /api/bookings/{token} - Cancelling booking
2025-11-05T16:29:18.314Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.315Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:18.319Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:29:18.321Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=COMPLETED}]
2025-11-05T16:29:18.322Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:29:18.322Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Error updating status: Not found
2025-11-05T16:29:18.322Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.323Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:18.326Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:29:18.327Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=COMPLETED, note=Done}]
2025-11-05T16:29:18.327Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:29:18.328Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.328Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@6626204e]
2025-11-05T16:29:18.338Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:29:18.339Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=RECEIVED}]
2025-11-05T16:29:18.339Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:29:18.339Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Invalid request: Invalid transition
2025-11-05T16:29:18.339Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.340Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:18.344Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:29:18.344Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:29:18.345Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Booking not found: Booking not found
2025-11-05T16:29:18.345Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.345Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:18.349Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:29:18.350Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:29:18.350Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.350Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@75f27234]
2025-11-05T16:29:18.377Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:18.380Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:18.383Z  WARN 99156 --- [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-05T16:29:18.388Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.388Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing UNKNOWN instances]
2025-11-05T16:29:18.396Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#cancelBooking(String)
2025-11-05T16:29:18.397Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : DELETE /api/bookings/{token} - Cancelling booking
2025-11-05T16:29:18.397Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Cannot cancel booking: Already cancelled
2025-11-05T16:29:18.397Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.398Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:18.401Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#cancelBooking(String)
2025-11-05T16:29:18.402Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : DELETE /api/bookings/{token} - Cancelling booking
2025-11-05T16:29:18.402Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Booking not found: Not found
2025-11-05T16:29:18.402Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.402Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:18.406Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:18.407Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@24e2d0d1]
2025-11-05T16:29:18.407Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:18.407Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:18.407Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:18.407Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2968ff7a]
2025-11-05T16:29:18.414Z  INFO 99156 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [pt.rodrigo.hw1_tqs.integration.BookingControllerITTest]: BookingControllerITTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-05T16:29:18.419Z  INFO 99156 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration pt.rodrigo.hw1_tqs.Hw1TqsApplication for test class pt.rodrigo.hw1_tqs.integration.BookingControllerITTest
2025-11-05T16:29:18.423Z  INFO 99156 --- [main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running
2025-11-05T16:29:18.438Z  INFO 99156 --- [main] p.r.h.i.BookingControllerITTest          : Starting BookingControllerITTest using Java 21.0.9-ea with PID 99156 (started by rodrigo-costa in /home/rodrigo-costa/Documentos/projtqs/api)
2025-11-05T16:29:18.439Z  INFO 99156 --- [main] p.r.h.i.BookingControllerITTest          : No active profile set, falling back to 1 default profile: "default"
2025-11-05T16:29:18.440Z DEBUG 99156 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3c802d25
2025-11-05T16:29:18.684Z  INFO 99156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05T16:29:18.714Z  INFO 99156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-11-05T16:29:18.983Z  INFO 99156 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-05T16:29:19.031Z  INFO 99156 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-05T16:29:19.057Z  INFO 99156 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-05T16:29:19.153Z  INFO 99156 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05T16:29:19.186Z  INFO 99156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-05T16:29:19.392Z  INFO 99156 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:hw1db user=SA
2025-11-05T16:29:19.394Z  INFO 99156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-05T16:29:19.418Z  WARN 99156 --- [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05T16:29:19.436Z  INFO 99156 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-05T16:29:20.070Z  INFO 99156 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-05T16:29:20.111Z  INFO 99156 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:29:20.266Z  INFO 99156 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05T16:29:20.797Z  WARN 99156 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-05T16:29:20.831Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2025-11-05T16:29:20.847Z DEBUG 99156 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05T16:29:20.857Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05T16:29:20.867Z DEBUG 99156 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05T16:29:20.947Z  INFO 99156 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:hw1db'
2025-11-05T16:29:20.978Z  INFO 99156 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-11-05T16:29:20.978Z  INFO 99156 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-11-05T16:29:20.979Z  INFO 99156 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-11-05T16:29:20.988Z  INFO 99156 --- [main] p.r.h.i.BookingControllerITTest          : Started BookingControllerITTest in 2.565 seconds (process running for 6.543)
2025-11-05T16:29:20.994Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:21.002Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@1e729758]
2025-11-05T16:29:21.002Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:21.002Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:21.011Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:21.012Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.075Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.081Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:21.359Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:21.360Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:21.362Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:21.363Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:21.460Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:21.507Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 0c0bf59f-c6cd-471b-bf35-843e929347cd
2025-11-05T16:29:21.521Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.521Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@558397bb]
2025-11-05T16:29:21.525Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:21.526Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@465c37ee]
2025-11-05T16:29:21.526Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:21.526Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:21.527Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:21.527Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.527Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.527Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:21.578Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:21.579Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:21.580Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:21.580Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:21.582Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:21.584Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 68a61bcf-2da2-42ca-9e2b-04d872acfbb8
2025-11-05T16:29:21.585Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.585Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@1ddc70f9]
2025-11-05T16:29:21.586Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:21.587Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@7702d268]
2025-11-05T16:29:21.587Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:21.587Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:21.587Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:21.587Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.588Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.588Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:21.640Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:21.640Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:21.641Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:21.641Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:21.642Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:21.644Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 9b2e0115-02a8-4538-bcae-8606ce9301a0
2025-11-05T16:29:21.645Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.645Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@7b900775]
2025-11-05T16:29:21.646Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:21.647Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:21.648Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: Braga, date: null, status: null
2025-11-05T16:29:21.676Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.677Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:29:21.710Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:21.711Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@77b7ec92]
2025-11-05T16:29:21.711Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:21.711Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:21.711Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:21.711Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.712Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.712Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:21.763Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:21.763Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:21.764Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:21.764Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:21.765Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:21.767Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: e1d9dc67-b1ee-416f-9d70-91b332a2328d
2025-11-05T16:29:21.768Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.768Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@a2243db]
2025-11-05T16:29:21.777Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:29:21.777Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:29:21.777Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: token-inexistente
2025-11-05T16:29:21.780Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Booking not found: Booking not found with token: token-inexistente
2025-11-05T16:29:21.780Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.780Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:21.786Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:21.787Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@33e1ac83]
2025-11-05T16:29:21.787Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:21.787Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:21.787Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:21.787Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.788Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.788Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:21.840Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:21.841Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:21.841Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:21.841Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:21.842Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:21.844Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 30127a7a-c3c6-4911-a5a2-92b725a9254c
2025-11-05T16:29:21.845Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.845Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@3dfffe4e]
2025-11-05T16:29:21.847Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:29:21.848Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=IN_PROGRESS}]
2025-11-05T16:29:21.848Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:29:21.849Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: 30127a7a-c3c6-4911-a5a2-92b725a9254c, newStatus: IN_PROGRESS
2025-11-05T16:29:21.849Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 30127a7a-c3c6-4911-a5a2-92b725a9254c
2025-11-05T16:29:21.855Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:29:21.863Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.864Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@71cbc980]
2025-11-05T16:29:21.874Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:21.874Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@28f2c115]
2025-11-05T16:29:21.874Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:21.874Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:21.875Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:21.875Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.875Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.875Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:21.926Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:21.926Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:21.927Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:21.927Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:21.928Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:21.930Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 8b4f6d3d-cad3-484f-acee-7a708354c937
2025-11-05T16:29:21.931Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.931Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@278fa3b9]
2025-11-05T16:29:21.932Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:29:21.933Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:29:21.933Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 8b4f6d3d-cad3-484f-acee-7a708354c937
2025-11-05T16:29:21.935Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:21.935Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@6b0fced0]
2025-11-05T16:29:21.943Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:21.944Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@7f4ccc7d]
2025-11-05T16:29:21.944Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:21.944Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:21.944Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:21.944Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.945Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:21.945Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:21.997Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:21.997Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:21.998Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:21.998Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:21.998Z  WARN 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Attempted to create booking with past date: 2020-01-01
2025-11-05T16:29:22.000Z ERROR 99156 --- [main] p.r.h.controllers.BookingController      : Validation error: Date cannot be in the past
2025-11-05T16:29:22.001Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:22.001Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:22.009Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:22.010Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@40b24b8b]
2025-11-05T16:29:22.010Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:22.010Z  INFO 99156 --- [main] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:22.010Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:22.010Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:22.010Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:22.011Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:22.064Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:22.065Z DEBUG 99156 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:22.067Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:22.067Z  INFO 99156 --- [main] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:22.071Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:22.078Z  INFO 99156 --- [main] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: db61f2c7-1925-402c-8b76-ce0fca0feaea
2025-11-05T16:29:22.080Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:22.080Z DEBUG 99156 --- [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2c9181fa]
2025-11-05T16:29:22.083Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:29:22.084Z DEBUG 99156 --- [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to []
2025-11-05T16:29:22.086Z  WARN 99156 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<pt.rodrigo.hw1_tqs.entities.Booking> pt.rodrigo.hw1_tqs.controllers.BookingController.updateBookingStatus(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)]
2025-11-05T16:29:22.096Z  INFO 99156 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [pt.rodrigo.hw1_tqs.Hw1TqsApplicationTests]: Hw1TqsApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-05T16:29:22.100Z  INFO 99156 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration pt.rodrigo.hw1_tqs.Hw1TqsApplication for test class pt.rodrigo.hw1_tqs.Hw1TqsApplicationTests
2025-11-05T16:29:22.104Z  INFO 99156 --- [main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running
2025-11-05T16:29:22.113Z  INFO 99156 --- [main] p.r.hw1_tqs.Hw1TqsApplicationTests       : Starting Hw1TqsApplicationTests using Java 21.0.9-ea with PID 99156 (started by rodrigo-costa in /home/rodrigo-costa/Documentos/projtqs/api)
2025-11-05T16:29:22.113Z  INFO 99156 --- [main] p.r.hw1_tqs.Hw1TqsApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2025-11-05T16:29:22.114Z DEBUG 99156 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@567087e1
2025-11-05T16:29:22.192Z  INFO 99156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05T16:29:22.197Z  INFO 99156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 2 JPA repository interfaces.
2025-11-05T16:29:22.237Z  INFO 99156 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-05T16:29:22.239Z  INFO 99156 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-05T16:29:22.243Z  INFO 99156 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05T16:29:22.244Z  INFO 99156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-11-05T16:29:22.244Z  INFO 99156 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:hw1db user=SA
2025-11-05T16:29:22.245Z  INFO 99156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-11-05T16:29:22.245Z  WARN 99156 --- [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05T16:29:22.245Z  INFO 99156 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-05T16:29:22.268Z  INFO 99156 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-05T16:29:22.274Z  INFO 99156 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:29:22.318Z  WARN 99156 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-05T16:29:22.330Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2025-11-05T16:29:22.338Z DEBUG 99156 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05T16:29:22.341Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05T16:29:22.345Z DEBUG 99156 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05T16:29:22.367Z  INFO 99156 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:hw1db'
2025-11-05T16:29:22.377Z  INFO 99156 --- [main] p.r.hw1_tqs.Hw1TqsApplicationTests       : Started Hw1TqsApplicationTests in 0.274 seconds (process running for 7.932)
2025-11-05T16:29:22.700Z  INFO 99156 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration]: CucumberSpringConfiguration does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-05T16:29:22.703Z  INFO 99156 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration pt.rodrigo.hw1_tqs.Hw1TqsApplication for test class pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration
2025-11-05T16:29:22.704Z  INFO 99156 --- [main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running
2025-11-05T16:29:22.715Z  INFO 99156 --- [main] p.r.h.b.c.CucumberSpringConfiguration    : Starting CucumberSpringConfiguration using Java 21.0.9-ea with PID 99156 (started by rodrigo-costa in /home/rodrigo-costa/Documentos/projtqs/api)
2025-11-05T16:29:22.715Z  INFO 99156 --- [main] p.r.h.b.c.CucumberSpringConfiguration    : No active profile set, falling back to 1 default profile: "default"
2025-11-05T16:29:22.777Z  INFO 99156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05T16:29:22.781Z  INFO 99156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 2 JPA repository interfaces.
2025-11-05T16:29:22.899Z  INFO 99156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-05T16:29:22.911Z  INFO 99156 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-05T16:29:22.911Z  INFO 99156 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-05T16:29:22.942Z  INFO 99156 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-05T16:29:22.942Z  INFO 99156 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 226 ms
2025-11-05T16:29:22.979Z  INFO 99156 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-05T16:29:22.980Z  INFO 99156 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-05T16:29:22.990Z  INFO 99156 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05T16:29:22.990Z  INFO 99156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-11-05T16:29:22.991Z  INFO 99156 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:hw1db user=SA
2025-11-05T16:29:22.991Z  INFO 99156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-11-05T16:29:22.992Z  WARN 99156 --- [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05T16:29:22.992Z  INFO 99156 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-05T16:29:23.014Z  INFO 99156 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-05T16:29:23.019Z  INFO 99156 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:29:23.050Z  WARN 99156 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-05T16:29:23.062Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2025-11-05T16:29:23.071Z DEBUG 99156 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05T16:29:23.074Z DEBUG 99156 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05T16:29:23.077Z DEBUG 99156 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05T16:29:23.094Z  INFO 99156 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:hw1db'
2025-11-05T16:29:23.134Z  INFO 99156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-05T16:29:23.136Z  INFO 99156 --- [main] p.r.h.b.c.CucumberSpringConfiguration    : Started CucumberSpringConfiguration in 0.432 seconds (process running for 8.691)
2025-11-05T16:29:23.167Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Initializing Playwright browser
2025-11-05T16:29:24.169Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Citizen on homepage
2025-11-05T16:29:24.255Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Navigated to citizen page
2025-11-05T16:29:24.316Z  INFO 99156 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05T16:29:24.317Z  INFO 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-05T16:29:24.317Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-11-05T16:29:24.317Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-11-05T16:29:24.317Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-11-05T16:29:24.317Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@51e114d6
2025-11-05T16:29:24.317Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2cb77f65
2025-11-05T16:29:24.318Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05T16:29:24.318Z  INFO 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-11-05T16:29:24.321Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:29:24.322Z DEBUG 99156 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:29:24.323Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:24.323Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:24.324Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:24.377Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:24.378Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:24.379Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:24.379Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:24.383Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:24.383Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:29:24.394Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:24.403Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:29:24.404Z DEBUG 99156 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:29:24.404Z  INFO 99156 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:24.405Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:24.405Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:24.458Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:24.459Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:24.460Z  INFO 99156 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:24.461Z  INFO 99156 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:24.462Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:24.463Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:29:24.465Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:26.314Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Selected municipality: Aveiro
2025-11-05T16:29:26.332Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Entered date: 2025-11-20
2025-11-05T16:29:26.345Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Selected timeslot: Manh
2025-11-05T16:29:26.360Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Entered description: Colcho e moblia velha
2025-11-05T16:29:26.407Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:29:26.407Z DEBUG 99156 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:26.410Z DEBUG 99156 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@530c2ab7]
2025-11-05T16:29:26.410Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:26.410Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:26.411Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:26.411Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:26.411Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:26.411Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:26.464Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:26.465Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:26.466Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:26.466Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:26.479Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:26.486Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 1fb8060f-8748-44fc-9b31-eab1b0854b70
2025-11-05T16:29:26.491Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:26.491Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@32ccdf88]
2025-11-05T16:29:26.495Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:29:28.420Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Form submitted
2025-11-05T16:29:28.435Z  INFO 99156 --- [main] p.r.h.bdd.steps.CitizenBookingSteps      : Booking created successfully
2025-11-05T16:29:28.436Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Closing Playwright browser context
2025-11-05T16:29:28.458Z  INFO 99156 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration]: CucumberSpringConfiguration does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-05T16:29:28.459Z  INFO 99156 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration pt.rodrigo.hw1_tqs.Hw1TqsApplication for test class pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration
2025-11-05T16:29:28.463Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Initializing Playwright browser
2025-11-05T16:29:28.493Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:29:28.493Z DEBUG 99156 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:28.494Z DEBUG 99156 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@4317ab71]
2025-11-05T16:29:28.494Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:28.494Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:28.494Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:28.494Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:28.495Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:28.495Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:28.547Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:28.547Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:28.548Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:28.549Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:28.552Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:28.558Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 78cb6804-3a23-4e07-8c57-fec53140079b
2025-11-05T16:29:28.560Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:28.560Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@72df2997]
2025-11-05T16:29:28.562Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:29:28.570Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Created booking with token: 78cb6804-3a23-4e07-8c57-fec53140079b
2025-11-05T16:29:28.891Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : User on homepage
2025-11-05T16:29:28.924Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Navigated to search page
2025-11-05T16:29:28.955Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Entered token: 78cb6804-3a23-4e07-8c57-fec53140079b
2025-11-05T16:29:29.001Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/78cb6804-3a23-4e07-8c57-fec53140079b", parameters={}
2025-11-05T16:29:29.001Z DEBUG 99156 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:29:29.002Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:29:29.002Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 78cb6804-3a23-4e07-8c57-fec53140079b
2025-11-05T16:29:29.005Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:29.005Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@62a419ef]
2025-11-05T16:29:29.007Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:30.504Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Clicked search button
2025-11-05T16:29:30.511Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Booking details displayed
2025-11-05T16:29:30.523Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Details contain: 78cb6804-3a23-4e07-8c57-fec53140079b
2025-11-05T16:29:30.525Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Closing Playwright browser context
2025-11-05T16:29:30.542Z  INFO 99156 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration]: CucumberSpringConfiguration does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-05T16:29:30.544Z  INFO 99156 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration pt.rodrigo.hw1_tqs.Hw1TqsApplication for test class pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration
2025-11-05T16:29:30.551Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Initializing Playwright browser
2025-11-05T16:29:30.582Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:29:30.582Z DEBUG 99156 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:30.583Z DEBUG 99156 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@4e0214a0]
2025-11-05T16:29:30.583Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:30.583Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:30.583Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:30.583Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:30.583Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:30.583Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:30.636Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:30.636Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:30.637Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:30.637Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:30.640Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:30.646Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 02bf0046-3d73-42ab-a0f8-a3bd42feda3b
2025-11-05T16:29:30.647Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:30.647Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2720920a]
2025-11-05T16:29:30.649Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:29:30.652Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Created booking with token: 02bf0046-3d73-42ab-a0f8-a3bd42feda3b
2025-11-05T16:29:30.960Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : User on homepage
2025-11-05T16:29:30.998Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Navigated to search page
2025-11-05T16:29:31.023Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Entered token: INVALID
2025-11-05T16:29:31.075Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/INVALID", parameters={}
2025-11-05T16:29:31.076Z DEBUG 99156 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:29:31.077Z  INFO 99156 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:29:31.077Z  INFO 99156 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: INVALID
2025-11-05T16:29:31.079Z ERROR 99156 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : Booking not found: Booking not found with token: INVALID
2025-11-05T16:29:31.079Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:31.079Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:29:31.079Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-11-05T16:29:32.578Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Clicked search button
2025-11-05T16:29:32.590Z  INFO 99156 --- [main] p.rodrigo.hw1_tqs.bdd.steps.SearchSteps  : Error message displayed
2025-11-05T16:29:32.591Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Closing Playwright browser context
2025-11-05T16:29:32.608Z  INFO 99156 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration]: CucumberSpringConfiguration does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-05T16:29:32.609Z  INFO 99156 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration pt.rodrigo.hw1_tqs.Hw1TqsApplication for test class pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration
2025-11-05T16:29:32.618Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Initializing Playwright browser
2025-11-05T16:29:32.651Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:29:32.651Z DEBUG 99156 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:32.652Z DEBUG 99156 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@2d8d2c92]
2025-11-05T16:29:32.652Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:32.652Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:32.652Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:32.652Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:32.652Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:32.652Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:32.704Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:32.704Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:32.705Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:32.705Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:32.708Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:32.712Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 26090af2-16bb-4c5e-9c7e-1fe4fe471b6d
2025-11-05T16:29:32.713Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:32.714Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5e98a811]
2025-11-05T16:29:32.715Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:29:32.718Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Created test booking 1: Aveiro
2025-11-05T16:29:32.722Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:29:32.723Z DEBUG 99156 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:32.724Z DEBUG 99156 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@6962f033]
2025-11-05T16:29:32.724Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:32.724Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:32.725Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:32.725Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:32.725Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:32.726Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:32.779Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:32.779Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:32.780Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:32.780Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:32.783Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:32.785Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: e3e1b9e3-5a6c-441b-af4b-e6553ddec311
2025-11-05T16:29:32.785Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:32.786Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@580596dc]
2025-11-05T16:29:32.786Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:29:32.788Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Created test booking 2: Porto
2025-11-05T16:29:33.081Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Staff member on homepage
2025-11-05T16:29:33.162Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Navigated to staff page
2025-11-05T16:29:33.167Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:29:33.167Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:29:33.168Z DEBUG 99156 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:29:33.168Z DEBUG 99156 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:33.168Z  INFO 99156 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:33.168Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:33.169Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:29:33.169Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:33.169Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:33.176Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:33.176Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:29:33.181Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:33.184Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:29:33.184Z DEBUG 99156 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:33.184Z  INFO 99156 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:33.184Z  INFO 99156 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:29:33.187Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:33.187Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:29:33.190Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:33.249Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:33.250Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:33.251Z  INFO 99156 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:33.251Z  INFO 99156 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:33.252Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:33.253Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:29:33.255Z DEBUG 99156 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:33.261Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:29:33.263Z DEBUG 99156 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:29:33.264Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:33.265Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:33.265Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:33.317Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:33.317Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:33.318Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:33.319Z  INFO 99156 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:33.319Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:33.320Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:29:33.321Z DEBUG 99156 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:35.215Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Selected municipality filter: Aveiro
2025-11-05T16:29:35.258Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?municipality=Aveiro&page=0&size=100", parameters={masked}
2025-11-05T16:29:35.259Z DEBUG 99156 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:35.259Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:35.260Z  INFO 99156 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: Aveiro, date: null, status: null
2025-11-05T16:29:35.263Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:35.263Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:29:35.265Z DEBUG 99156 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:36.785Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Clicked filter button
2025-11-05T16:29:36.802Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Only bookings from Aveiro displayed
2025-11-05T16:29:36.803Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Closing Playwright browser context
2025-11-05T16:29:36.822Z  INFO 99156 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration]: CucumberSpringConfiguration does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-05T16:29:36.824Z  INFO 99156 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration pt.rodrigo.hw1_tqs.Hw1TqsApplication for test class pt.rodrigo.hw1_tqs.bdd.config.CucumberSpringConfiguration
2025-11-05T16:29:36.832Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Initializing Playwright browser
2025-11-05T16:29:36.857Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:29:36.857Z DEBUG 99156 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:36.857Z DEBUG 99156 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@7496b7ae]
2025-11-05T16:29:36.857Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:36.857Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:36.858Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:36.858Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:36.858Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:36.858Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:36.911Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:36.912Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:36.913Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:36.913Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:36.916Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:36.923Z  INFO 99156 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 3290e179-01cf-40d9-a972-61fa2a5749c1
2025-11-05T16:29:36.925Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:36.926Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@1da2268]
2025-11-05T16:29:36.927Z DEBUG 99156 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:29:36.930Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Created test booking 1: Aveiro
2025-11-05T16:29:36.937Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:29:36.938Z DEBUG 99156 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:29:36.939Z DEBUG 99156 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@2135b6c5]
2025-11-05T16:29:36.940Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:29:36.940Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:29:36.940Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:29:36.940Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:36.941Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:36.941Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:36.994Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:36.995Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:36.995Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:36.996Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:36.998Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:29:37.004Z  INFO 99156 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 1af1eed0-feba-4af8-b7e2-63a7dee9d10e
2025-11-05T16:29:37.006Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:37.006Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5314ba13]
2025-11-05T16:29:37.007Z DEBUG 99156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:29:37.009Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Created test booking 2: Porto
2025-11-05T16:29:37.095Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Staff member on homepage
2025-11-05T16:29:37.153Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Navigated to staff page
2025-11-05T16:29:37.159Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:29:37.159Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:29:37.159Z DEBUG 99156 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:29:37.159Z DEBUG 99156 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:37.159Z  INFO 99156 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:37.159Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:37.159Z  INFO 99156 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:29:37.159Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:37.160Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:37.162Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:37.162Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:29:37.166Z DEBUG 99156 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:37.169Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:29:37.169Z DEBUG 99156 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:37.169Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:37.169Z  INFO 99156 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:29:37.172Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:37.172Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:29:37.174Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Selected status filter: RECEIVED
2025-11-05T16:29:37.175Z DEBUG 99156 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:37.210Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:37.211Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:37.211Z  INFO 99156 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:37.212Z  INFO 99156 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:37.212Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:37.213Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:29:37.214Z DEBUG 99156 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:37.221Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:29:37.222Z DEBUG 99156 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:29:37.223Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:29:37.224Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:29:37.224Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:29:37.226Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?status=RECEIVED&page=0&size=100", parameters={masked}
2025-11-05T16:29:37.226Z DEBUG 99156 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:29:37.229Z  INFO 99156 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:29:37.229Z  INFO 99156 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: RECEIVED
2025-11-05T16:29:37.239Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:37.239Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:29:37.243Z DEBUG 99156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:37.279Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:29:37.279Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:29:37.280Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:29:37.280Z  INFO 99156 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:29:37.280Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:29:37.280Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:29:37.281Z DEBUG 99156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:29:38.768Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Clicked filter button
2025-11-05T16:29:38.784Z  INFO 99156 --- [main] p.r.h.bdd.steps.StaffOperationsSteps     : Only bookings with status RECEIVED displayed
2025-11-05T16:29:38.785Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Closing Playwright browser context
2025-11-05T16:29:38.800Z  INFO 99156 --- [main] p.r.hw1_tqs.bdd.config.PlaywrightHooks   : Closing all Playwright resources
2025-11-05T16:29:38.844Z DEBUG 99156 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@58fbecde, started on Wed Nov 05 16:29:17 WET 2025
2025-11-05T16:29:38.846Z DEBUG 99156 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3c802d25, started on Wed Nov 05 16:29:18 WET 2025
2025-11-05T16:29:38.847Z  INFO 99156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:29:38.917Z  INFO 99156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-05T16:29:38.918Z  INFO 99156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-05T16:29:38.918Z DEBUG 99156 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@567087e1, started on Wed Nov 05 16:29:22 WET 2025
2025-11-05T16:29:38.919Z  INFO 99156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:29:38.919Z  INFO 99156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-11-05T16:29:38.920Z  INFO 99156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-11-05T16:29:38.921Z  INFO 99156 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05T16:29:38.922Z  INFO 99156 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-05T16:29:38.923Z  INFO 99156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:29:38.924Z  INFO 99156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-11-05T16:29:38.925Z  INFO 99156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-11-05T16:41:28.741Z  INFO 104646 --- [restartedMain] pt.rodrigo.hw1_tqs.Hw1TqsApplication     : Starting Hw1TqsApplication using Java 21.0.9-ea with PID 104646 (/home/rodrigo-costa/Documentos/projtqs/api/target/classes started by rodrigo-costa in /home/rodrigo-costa/Documentos/projtqs/api)
2025-11-05T16:41:28.741Z  INFO 104646 --- [restartedMain] pt.rodrigo.hw1_tqs.Hw1TqsApplication     : No active profile set, falling back to 1 default profile: "default"
2025-11-05T16:41:28.760Z  INFO 104646 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05T16:41:28.760Z  INFO 104646 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05T16:41:29.084Z  INFO 104646 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05T16:41:29.109Z  INFO 104646 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 2 JPA repository interfaces.
2025-11-05T16:41:29.351Z  INFO 104646 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-05T16:41:29.359Z  INFO 104646 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-05T16:41:29.360Z  INFO 104646 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-05T16:41:29.379Z  INFO 104646 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-05T16:41:29.379Z  INFO 104646 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 618 ms
2025-11-05T16:41:29.451Z  INFO 104646 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-05T16:41:29.470Z  INFO 104646 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-05T16:41:29.484Z  INFO 104646 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-05T16:41:29.595Z  INFO 104646 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05T16:41:29.608Z  INFO 104646 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-05T16:41:29.687Z  INFO 104646 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:hw1db user=SA
2025-11-05T16:41:29.688Z  INFO 104646 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-05T16:41:29.699Z  WARN 104646 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05T16:41:29.707Z  INFO 104646 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-05T16:41:30.135Z  INFO 104646 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-05T16:41:30.162Z  INFO 104646 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:41:30.289Z  INFO 104646 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05T16:41:30.632Z  WARN 104646 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-05T16:41:30.682Z DEBUG 104646 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2025-11-05T16:41:30.701Z DEBUG 104646 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05T16:41:30.715Z DEBUG 104646 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05T16:41:30.736Z DEBUG 104646 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05T16:41:30.796Z  INFO 104646 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:hw1db'
2025-11-05T16:41:30.824Z  INFO 104646 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-05T16:41:30.838Z  INFO 104646 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-05T16:41:30.843Z  INFO 104646 --- [restartedMain] pt.rodrigo.hw1_tqs.Hw1TqsApplication     : Started Hw1TqsApplication in 2.295 seconds (process running for 2.454)
2025-11-05T16:42:05.115Z  INFO 104646 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05T16:42:05.115Z  INFO 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-05T16:42:05.115Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-11-05T16:42:05.115Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-11-05T16:42:05.115Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-11-05T16:42:05.116Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5ae0164c
2025-11-05T16:42:05.116Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3419d706
2025-11-05T16:42:05.116Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05T16:42:05.116Z  INFO 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-11-05T16:42:05.120Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:42:05.124Z DEBUG 104646 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:42:05.131Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:42:05.179Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:42:05.185Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:42:05.464Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:42:05.466Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:42:05.480Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:42:05.480Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:42:05.485Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:42:05.486Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:42:05.492Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:42:05.494Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:42:05.495Z DEBUG 104646 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:42:05.495Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:42:05.495Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:42:05.495Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:42:05.552Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:42:05.553Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:42:05.555Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:42:05.555Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:42:05.556Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:42:05.556Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:42:05.559Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:42:21.508Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:42:21.509Z DEBUG 104646 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:42:21.534Z DEBUG 104646 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@2df83d44]
2025-11-05T16:42:21.537Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:42:21.537Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:42:21.541Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:42:21.541Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:42:21.541Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:42:21.541Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:42:21.725Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:42:21.726Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:42:21.728Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:42:21.728Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:42:21.729Z  WARN 104646 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Attempted to create booking with past date: 2025-10-14
2025-11-05T16:42:21.734Z ERROR 104646 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : Validation error: Date cannot be in the past
2025-11-05T16:42:21.752Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:42:21.753Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:42:21.753Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-11-05T16:42:35.442Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:42:35.443Z DEBUG 104646 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:42:35.447Z DEBUG 104646 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@57697d0]
2025-11-05T16:42:35.448Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:42:35.448Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:42:35.449Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:42:35.450Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:42:35.451Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:42:35.452Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:42:35.622Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:42:35.623Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:42:35.624Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:42:35.624Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:42:35.677Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:42:35.725Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:42:35.730Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:42:35.731Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@98e905d]
2025-11-05T16:42:35.736Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:42:48.395Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/b6977111-d080-452e-9967-761afdef924a", parameters={}
2025-11-05T16:42:48.396Z DEBUG 104646 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:42:48.403Z  INFO 104646 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:42:48.404Z  INFO 104646 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:42:48.421Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:42:48.421Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@7a4fb515]
2025-11-05T16:42:48.425Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:02.221Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:43:02.222Z DEBUG 104646 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:43:02.222Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:43:02.223Z DEBUG 104646 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:43:02.223Z  INFO 104646 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:43:02.224Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:43:02.225Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:43:02.229Z  INFO 104646 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:43:02.231Z  INFO 104646 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:43:02.246Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:02.246Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:43:02.250Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:02.253Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:43:02.254Z DEBUG 104646 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:43:02.255Z  INFO 104646 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:43:02.255Z  INFO 104646 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:43:02.260Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:02.260Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:43:02.263Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:02.390Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:43:02.391Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:43:02.392Z  INFO 104646 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:43:02.393Z  INFO 104646 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:43:02.394Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:02.395Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:43:02.397Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:02.406Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:43:02.407Z DEBUG 104646 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:43:02.408Z  INFO 104646 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:43:02.409Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:43:02.409Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:43:02.463Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:43:02.464Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:43:02.465Z  INFO 104646 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:43:02.465Z  INFO 104646 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:43:02.466Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:02.467Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:43:02.470Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:07.457Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/b6977111-d080-452e-9967-761afdef924a", parameters={}
2025-11-05T16:43:07.457Z DEBUG 104646 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:43:07.458Z  INFO 104646 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:43:07.458Z  INFO 104646 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:43:07.461Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:07.461Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2f4b2156]
2025-11-05T16:43:07.464Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:07.470Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/b6977111-d080-452e-9967-761afdef924a", parameters={}
2025-11-05T16:43:07.470Z DEBUG 104646 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:43:07.471Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:43:07.471Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:43:07.474Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:07.475Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@6897833e]
2025-11-05T16:43:07.478Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:17.360Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/b6977111-d080-452e-9967-761afdef924a/status", parameters={}
2025-11-05T16:43:17.361Z DEBUG 104646 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:43:17.368Z DEBUG 104646 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=IN_PROGRESS, note=A caminho}]
2025-11-05T16:43:17.370Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:43:17.371Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: b6977111-d080-452e-9967-761afdef924a, newStatus: IN_PROGRESS
2025-11-05T16:43:17.371Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:43:17.378Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:43:17.384Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:17.385Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@1f062e71]
2025-11-05T16:43:17.387Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:25.034Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/b6977111-d080-452e-9967-761afdef924a/status", parameters={}
2025-11-05T16:43:25.035Z DEBUG 104646 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:43:25.038Z DEBUG 104646 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=IN_PROGRESS, note=A caminho}]
2025-11-05T16:43:25.038Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:43:25.038Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: b6977111-d080-452e-9967-761afdef924a, newStatus: IN_PROGRESS
2025-11-05T16:43:25.039Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:43:25.044Z ERROR 104646 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : Error updating status: Booking is already in status: IN_PROGRESS
2025-11-05T16:43:25.044Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:25.045Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:43:25.045Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-11-05T16:43:31.630Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/b6977111-d080-452e-9967-761afdef924a/status", parameters={}
2025-11-05T16:43:31.631Z DEBUG 104646 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:43:31.634Z DEBUG 104646 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=ASSIGNED, note=A caminho}]
2025-11-05T16:43:31.634Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:43:31.635Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: b6977111-d080-452e-9967-761afdef924a, newStatus: ASSIGNED
2025-11-05T16:43:31.635Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:43:31.643Z  INFO 104646 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:43:31.648Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:31.648Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5c7647a4]
2025-11-05T16:43:31.651Z DEBUG 104646 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:43:37.639Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/b6977111-d080-452e-9967-761afdef924a/status", parameters={}
2025-11-05T16:43:37.641Z DEBUG 104646 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:43:37.644Z DEBUG 104646 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=CANCELLED, note=A caminho}]
2025-11-05T16:43:37.645Z  INFO 104646 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:43:37.645Z  INFO 104646 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: b6977111-d080-452e-9967-761afdef924a, newStatus: CANCELLED
2025-11-05T16:43:37.645Z  INFO 104646 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: b6977111-d080-452e-9967-761afdef924a
2025-11-05T16:43:37.656Z  INFO 104646 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:43:37.661Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:43:37.662Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@6358ff]
2025-11-05T16:43:37.666Z DEBUG 104646 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:14.746Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:44:14.746Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:14.746Z DEBUG 104646 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:44:14.746Z DEBUG 104646 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:14.746Z  INFO 104646 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:14.747Z  INFO 104646 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:44:14.747Z  INFO 104646 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:44:14.747Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:14.747Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:14.749Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:14.749Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:44:14.751Z DEBUG 104646 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:14.754Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:44:14.754Z DEBUG 104646 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:44:14.755Z  INFO 104646 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:44:14.755Z  INFO 104646 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:44:14.757Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:14.758Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:44:14.759Z DEBUG 104646 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:14.795Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:44:14.795Z DEBUG 104646 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:44:14.796Z  INFO 104646 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:44:14.796Z  INFO 104646 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:44:14.798Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:14.798Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:44:14.800Z DEBUG 104646 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:14.803Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:44:14.803Z DEBUG 104646 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:44:14.804Z  INFO 104646 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:44:14.804Z  INFO 104646 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:44:14.806Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:14.806Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:44:14.808Z DEBUG 104646 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:14.906Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:14.906Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:14.908Z  INFO 104646 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:14.908Z  INFO 104646 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:14.909Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:14.910Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:44:14.911Z DEBUG 104646 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:14.918Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:14.919Z DEBUG 104646 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:14.920Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:14.920Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:14.921Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:14.974Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:14.975Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:14.976Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:14.976Z  INFO 104646 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:14.977Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:14.977Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:44:14.979Z DEBUG 104646 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:14.988Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:14.989Z DEBUG 104646 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:14.990Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:14.990Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:14.991Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:15.044Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:15.045Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:15.045Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:15.046Z  INFO 104646 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:15.047Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:15.047Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:44:15.049Z DEBUG 104646 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:15.058Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:15.058Z DEBUG 104646 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:15.059Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:15.059Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:15.060Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:15.114Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:15.115Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:15.115Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:15.116Z  INFO 104646 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:15.116Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:15.117Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:44:15.118Z DEBUG 104646 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:26.220Z  INFO 104646 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05T16:44:26.225Z  INFO 104646 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-05T16:44:26.234Z  INFO 104646 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:44:26.256Z  WARN 104646 --- [SpringApplicationShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05T16:44:26.257Z  INFO 104646 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-05T16:44:26.259Z  INFO 104646 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-05T16:44:37.131Z  INFO 106408 --- [restartedMain] pt.rodrigo.hw1_tqs.Hw1TqsApplication     : Starting Hw1TqsApplication using Java 21.0.9-ea with PID 106408 (/home/rodrigo-costa/Documentos/projtqs/api/target/classes started by rodrigo-costa in /home/rodrigo-costa/Documentos/projtqs/api)
2025-11-05T16:44:37.132Z  INFO 106408 --- [restartedMain] pt.rodrigo.hw1_tqs.Hw1TqsApplication     : No active profile set, falling back to 1 default profile: "default"
2025-11-05T16:44:37.151Z  INFO 106408 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05T16:44:37.151Z  INFO 106408 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05T16:44:37.480Z  INFO 106408 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05T16:44:37.507Z  INFO 106408 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 2 JPA repository interfaces.
2025-11-05T16:44:37.748Z  INFO 106408 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-05T16:44:37.756Z  INFO 106408 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-05T16:44:37.756Z  INFO 106408 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-05T16:44:37.773Z  INFO 106408 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-05T16:44:37.774Z  INFO 106408 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 623 ms
2025-11-05T16:44:37.844Z  INFO 106408 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-05T16:44:37.863Z  INFO 106408 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-05T16:44:37.876Z  INFO 106408 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-05T16:44:37.989Z  INFO 106408 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05T16:44:38.003Z  INFO 106408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-05T16:44:38.086Z  INFO 106408 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:hw1db user=SA
2025-11-05T16:44:38.087Z  INFO 106408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-05T16:44:38.099Z  WARN 106408 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05T16:44:38.108Z  INFO 106408 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-05T16:44:38.499Z  INFO 106408 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-05T16:44:38.524Z  INFO 106408 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:44:38.635Z  INFO 106408 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05T16:44:38.964Z  WARN 106408 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-05T16:44:39.016Z DEBUG 106408 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2025-11-05T16:44:39.037Z DEBUG 106408 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05T16:44:39.051Z DEBUG 106408 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05T16:44:39.073Z DEBUG 106408 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05T16:44:39.130Z  INFO 106408 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:hw1db'
2025-11-05T16:44:39.159Z  INFO 106408 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-05T16:44:39.173Z  INFO 106408 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-05T16:44:39.178Z  INFO 106408 --- [restartedMain] pt.rodrigo.hw1_tqs.Hw1TqsApplication     : Started Hw1TqsApplication in 2.247 seconds (process running for 2.414)
2025-11-05T16:44:47.159Z  INFO 106408 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05T16:44:47.159Z  INFO 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-05T16:44:47.159Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-11-05T16:44:47.159Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-11-05T16:44:47.159Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-11-05T16:44:47.160Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2d06c627
2025-11-05T16:44:47.160Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4615f1f2
2025-11-05T16:44:47.160Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05T16:44:47.160Z  INFO 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-11-05T16:44:47.164Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:47.167Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:47.174Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:47.222Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:47.229Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:47.527Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:47.529Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:47.543Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:47.544Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:47.548Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:47.549Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:44:47.555Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:47.557Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:47.557Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:47.558Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:47.558Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:47.558Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:47.617Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:47.618Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:47.620Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:47.621Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:47.623Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:47.624Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:44:47.627Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:56.712Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:44:56.712Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:44:56.733Z DEBUG 106408 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@6e1687e]
2025-11-05T16:44:56.736Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:44:56.736Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:44:56.739Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:44:56.739Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:56.739Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:56.739Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:56.912Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:56.913Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:56.914Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:56.915Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:56.968Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:44:56.997Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:44:57.010Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:57.010Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@eb8fc26]
2025-11-05T16:44:57.014Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:44:59.931Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:59.932Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:59.932Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:44:59.932Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:44:59.932Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:59.933Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:59.933Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:44:59.935Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:44:59.936Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:44:59.960Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:59.961Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:44:59.967Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:59.970Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:44:59.971Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:44:59.971Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:44:59.971Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:44:59.973Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:59.973Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:44:59.974Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:59.985Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:44:59.985Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:44:59.985Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:44:59.986Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:44:59.986Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:44:59.986Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:44:59.987Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:44:59.991Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:44:59.991Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:44:59.992Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:44:59.992Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:44:59.993Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:45:00.046Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:45:00.047Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:45:00.047Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:45:00.048Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:45:00.049Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:45:00.049Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:45:00.050Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:45:01.435Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/e0822083-f62b-49ca-b9b8-de47be1037ef", parameters={}
2025-11-05T16:45:01.436Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:45:01.443Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:45:01.443Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:45:01.451Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:45:01.451Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@31275a69]
2025-11-05T16:45:01.453Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:45:01.458Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/e0822083-f62b-49ca-b9b8-de47be1037ef", parameters={}
2025-11-05T16:45:01.459Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:45:01.460Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:45:01.460Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:45:01.464Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:45:01.464Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@3bed58c2]
2025-11-05T16:45:01.466Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:45:03.959Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/e0822083-f62b-49ca-b9b8-de47be1037ef/status", parameters={}
2025-11-05T16:45:03.960Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:45:03.969Z DEBUG 106408 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=IN_PROGRESS, note=}]
2025-11-05T16:45:03.969Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:45:03.971Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: e0822083-f62b-49ca-b9b8-de47be1037ef, newStatus: IN_PROGRESS
2025-11-05T16:45:03.971Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:45:03.980Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:45:03.987Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:45:03.988Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@a168348]
2025-11-05T16:45:03.989Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:45:19.391Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/e0822083-f62b-49ca-b9b8-de47be1037ef/status", parameters={}
2025-11-05T16:45:19.391Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:45:19.393Z DEBUG 106408 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=COMPLETED, note=TESTE}]
2025-11-05T16:45:19.394Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:45:19.394Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: e0822083-f62b-49ca-b9b8-de47be1037ef, newStatus: COMPLETED
2025-11-05T16:45:19.395Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:45:19.403Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:45:19.407Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:45:19.407Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@16df8648]
2025-11-05T16:45:19.409Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:04.568Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/e0822083-f62b-49ca-b9b8-de47be1037ef", parameters={}
2025-11-05T16:46:04.569Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:46:04.569Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:46:04.569Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:46:04.571Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:04.571Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@3853832f]
2025-11-05T16:46:04.572Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:04.575Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/e0822083-f62b-49ca-b9b8-de47be1037ef", parameters={}
2025-11-05T16:46:04.575Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:46:04.575Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:46:04.575Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:46:04.578Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:04.578Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@b7f8207]
2025-11-05T16:46:04.579Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:07.976Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/e0822083-f62b-49ca-b9b8-de47be1037ef/status", parameters={}
2025-11-05T16:46:07.977Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:46:07.980Z DEBUG 106408 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=ASSIGNED, note=}]
2025-11-05T16:46:07.981Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:46:07.981Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: e0822083-f62b-49ca-b9b8-de47be1037ef, newStatus: ASSIGNED
2025-11-05T16:46:07.982Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: e0822083-f62b-49ca-b9b8-de47be1037ef
2025-11-05T16:46:07.990Z ERROR 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : Error updating status: Completed booking can only be cancelled
2025-11-05T16:46:07.991Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:07.991Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:46:07.991Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-11-05T16:46:17.490Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:17.490Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:46:17.491Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:17.491Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:46:17.491Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:17.491Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:46:17.491Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:46:17.491Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:17.491Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:17.493Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:17.493Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:46:17.495Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:17.499Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:46:17.499Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:46:17.500Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:46:17.500Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:46:17.503Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:17.503Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:46:17.505Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:17.651Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:17.652Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:17.653Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:17.653Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:17.654Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:17.655Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:17.656Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:17.662Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:17.662Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:17.663Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:17.663Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:17.664Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:17.717Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:17.717Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:17.717Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:17.718Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:17.718Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:17.718Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:17.720Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:23.941Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:23.941Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:23.941Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:23.942Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:23.942Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:24.126Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:24.126Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:24.126Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:24.126Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:24.126Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:24.127Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:24.127Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:24.129Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:24.130Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:24.130Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:24.130Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:24.130Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:24.186Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:24.187Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:24.187Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:24.187Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:24.187Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:24.187Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:24.188Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:32.388Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:46:32.388Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:46:32.390Z DEBUG 106408 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@118e626d]
2025-11-05T16:46:32.391Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:46:32.391Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:46:32.391Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:46:32.391Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:32.392Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:32.392Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:32.550Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:32.551Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:32.552Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:32.552Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:32.557Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:46:32.563Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: af676857-323f-4499-b3de-36938a14523c
2025-11-05T16:46:32.565Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:32.565Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@754c059b]
2025-11-05T16:46:32.567Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:46:34.577Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:34.577Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:34.578Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:34.579Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:34.579Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:46:34.579Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:34.579Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:46:34.580Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:46:34.581Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:46:34.587Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:34.587Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:46:34.594Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:34.600Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:46:34.601Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:46:34.601Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:46:34.601Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:46:34.603Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:34.603Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:46:34.605Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:34.628Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:34.629Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:34.629Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:34.629Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:34.630Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:34.630Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:34.630Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:34.634Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:34.634Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:34.635Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:34.635Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:34.636Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:34.684Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:34.684Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:34.685Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:34.685Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:34.685Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:34.686Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:34.687Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:37.179Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/af676857-323f-4499-b3de-36938a14523c", parameters={}
2025-11-05T16:46:37.179Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:46:37.179Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:46:37.179Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: af676857-323f-4499-b3de-36938a14523c
2025-11-05T16:46:37.181Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:37.181Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@4d9f1b9b]
2025-11-05T16:46:37.182Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:37.185Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/af676857-323f-4499-b3de-36938a14523c", parameters={}
2025-11-05T16:46:37.186Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:46:37.186Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:46:37.186Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: af676857-323f-4499-b3de-36938a14523c
2025-11-05T16:46:37.188Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:37.188Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@556b94b1]
2025-11-05T16:46:37.189Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:41.806Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/af676857-323f-4499-b3de-36938a14523c/status", parameters={}
2025-11-05T16:46:41.807Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:46:41.809Z DEBUG 106408 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=IN_PROGRESS, note=RTEW}]
2025-11-05T16:46:41.809Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:46:41.810Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: af676857-323f-4499-b3de-36938a14523c, newStatus: IN_PROGRESS
2025-11-05T16:46:41.810Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: af676857-323f-4499-b3de-36938a14523c
2025-11-05T16:46:41.817Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:46:41.822Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:41.822Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2ddf27e]
2025-11-05T16:46:41.824Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:47.564Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:47.564Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:46:47.565Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:47.565Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:46:47.565Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:47.565Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:46:47.565Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:46:47.565Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:47.565Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:47.568Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:47.568Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:46:47.570Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:47.572Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:46:47.573Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:46:47.573Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:46:47.573Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:46:47.575Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:47.576Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:46:47.577Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:47.743Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:47.744Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:47.745Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:47.745Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:47.745Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:47.746Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:47.747Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:46:47.753Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:46:47.753Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:46:47.754Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:46:47.755Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:46:47.755Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:46:47.813Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:46:47.814Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:46:47.814Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:46:47.814Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:46:47.815Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:46:47.815Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:46:47.816Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:47:44.864Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/af676857-323f-4499-b3de-36938a14523c", parameters={}
2025-11-05T16:47:44.865Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:47:44.865Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:47:44.865Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: af676857-323f-4499-b3de-36938a14523c
2025-11-05T16:47:44.867Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:47:44.867Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5cfe23c3]
2025-11-05T16:47:44.868Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:47:44.870Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/af676857-323f-4499-b3de-36938a14523c", parameters={}
2025-11-05T16:47:44.871Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:47:44.871Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:47:44.871Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: af676857-323f-4499-b3de-36938a14523c
2025-11-05T16:47:44.874Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:47:44.874Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@7498a8df]
2025-11-05T16:47:44.876Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:47:49.311Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/af676857-323f-4499-b3de-36938a14523c/status", parameters={}
2025-11-05T16:47:49.312Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:47:49.312Z DEBUG 106408 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=CANCELLED, note=}]
2025-11-05T16:47:49.312Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:47:49.312Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: af676857-323f-4499-b3de-36938a14523c, newStatus: CANCELLED
2025-11-05T16:47:49.312Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: af676857-323f-4499-b3de-36938a14523c
2025-11-05T16:47:49.315Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:47:49.317Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:47:49.317Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@7a026ea6]
2025-11-05T16:47:49.318Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:47:56.130Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:47:56.131Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:47:56.132Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:47:56.132Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:47:56.132Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:47:56.133Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:47:56.133Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:47:56.134Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:47:56.134Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:47:56.139Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:47:56.140Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:47:56.142Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:47:56.144Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:47:56.144Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:47:56.145Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:47:56.145Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:47:56.147Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:47:56.147Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:47:56.151Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:47:56.309Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:47:56.309Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:47:56.310Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:47:56.311Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:47:56.311Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:47:56.312Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:47:56.313Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:47:56.322Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:47:56.323Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:47:56.324Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:47:56.324Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:47:56.325Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:47:56.381Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:47:56.382Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:47:56.382Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:47:56.382Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:47:56.383Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:47:56.383Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:47:56.384Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:22.654Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:49:22.654Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:49:22.655Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:49:22.655Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:49:22.655Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:49:22.810Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:49:22.810Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:49:22.811Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:49:22.812Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:49:22.813Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:22.813Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:49:22.814Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:22.819Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:49:22.820Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:49:22.820Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:49:22.821Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:49:22.822Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:49:22.870Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:49:22.871Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:49:22.872Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:49:22.872Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:49:22.872Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:22.873Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:49:22.874Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:30.512Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:49:30.512Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:49:30.514Z DEBUG 106408 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@51b30de1]
2025-11-05T16:49:30.514Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:49:30.514Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:49:30.515Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:49:30.515Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:49:30.515Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:49:30.515Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:49:30.696Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:49:30.696Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:49:30.696Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:49:30.696Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:49:30.697Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:49:30.699Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 875564de-5a09-4383-bb6b-81eff23c9a2f
2025-11-05T16:49:30.700Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:30.700Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@7342c612]
2025-11-05T16:49:30.700Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:49:34.123Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:49:34.123Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:49:34.123Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:49:34.123Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:49:34.124Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:49:34.124Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:49:34.124Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:49:34.124Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:49:34.125Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:49:34.129Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:34.129Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:49:34.132Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:34.134Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:49:34.134Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:49:34.135Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:49:34.135Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:49:34.137Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:34.138Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:49:34.140Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:34.182Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:49:34.183Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:49:34.183Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:49:34.184Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:49:34.184Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:34.185Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:49:34.186Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:34.193Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:49:34.193Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:49:34.194Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:49:34.195Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:49:34.195Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:49:34.253Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:49:34.253Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:49:34.254Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:49:34.254Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:49:34.255Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:34.255Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:49:34.256Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:36.110Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/875564de-5a09-4383-bb6b-81eff23c9a2f", parameters={}
2025-11-05T16:49:36.111Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:49:36.111Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:49:36.111Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 875564de-5a09-4383-bb6b-81eff23c9a2f
2025-11-05T16:49:36.113Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:36.113Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@34dfed22]
2025-11-05T16:49:36.114Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:36.118Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/875564de-5a09-4383-bb6b-81eff23c9a2f", parameters={}
2025-11-05T16:49:36.118Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:49:36.118Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:49:36.119Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 875564de-5a09-4383-bb6b-81eff23c9a2f
2025-11-05T16:49:36.121Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:36.121Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@4d2ef88c]
2025-11-05T16:49:36.122Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:39.310Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/875564de-5a09-4383-bb6b-81eff23c9a2f/status", parameters={}
2025-11-05T16:49:39.311Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:49:39.313Z DEBUG 106408 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=IN_PROGRESS, note=}]
2025-11-05T16:49:39.314Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:49:39.314Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: 875564de-5a09-4383-bb6b-81eff23c9a2f, newStatus: IN_PROGRESS
2025-11-05T16:49:39.315Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 875564de-5a09-4383-bb6b-81eff23c9a2f
2025-11-05T16:49:39.323Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:49:39.327Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:39.327Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@6ce7afae]
2025-11-05T16:49:39.329Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:47.402Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:49:47.402Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:49:47.403Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:49:47.403Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:49:47.403Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:49:47.403Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:49:47.403Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:49:47.403Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:49:47.403Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:49:47.405Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:47.405Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:49:47.408Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:47.411Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:49:47.412Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:49:47.412Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:49:47.412Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:49:47.414Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:47.414Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:49:47.416Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:47.568Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:49:47.569Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:49:47.569Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:49:47.569Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:49:47.570Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:47.570Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:49:47.572Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:49:47.577Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:49:47.577Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:49:47.578Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:49:47.579Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:49:47.579Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:49:47.631Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:49:47.632Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:49:47.633Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:49:47.633Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:49:47.633Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:49:47.634Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:49:47.635Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:53:59.971Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/875564de-5a09-4383-bb6b-81eff23c9a2f", parameters={}
2025-11-05T16:53:59.971Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:53:59.971Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:53:59.971Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 875564de-5a09-4383-bb6b-81eff23c9a2f
2025-11-05T16:53:59.976Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:53:59.977Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@16cf4de8]
2025-11-05T16:53:59.980Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:53:59.986Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/875564de-5a09-4383-bb6b-81eff23c9a2f", parameters={}
2025-11-05T16:53:59.986Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:53:59.987Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:53:59.987Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 875564de-5a09-4383-bb6b-81eff23c9a2f
2025-11-05T16:53:59.989Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:53:59.989Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@1c7829d5]
2025-11-05T16:53:59.990Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:03.017Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/875564de-5a09-4383-bb6b-81eff23c9a2f/status", parameters={}
2025-11-05T16:54:03.018Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:54:03.020Z DEBUG 106408 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=COMPLETED, note=}]
2025-11-05T16:54:03.021Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:54:03.021Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: 875564de-5a09-4383-bb6b-81eff23c9a2f, newStatus: COMPLETED
2025-11-05T16:54:03.021Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 875564de-5a09-4383-bb6b-81eff23c9a2f
2025-11-05T16:54:03.027Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:54:03.029Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:03.030Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5cdaa771]
2025-11-05T16:54:03.032Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:04.214Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:54:04.214Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:54:04.214Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:54:04.214Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:54:04.220Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:04.220Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:54:04.229Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:07.038Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:54:07.039Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:54:07.039Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:54:07.039Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:54:07.039Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:54:07.039Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:54:07.039Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:54:07.039Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:54:07.039Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:54:07.042Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:07.042Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:54:07.045Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:07.047Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:54:07.047Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:54:07.048Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:54:07.048Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:54:07.050Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:07.050Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:54:07.053Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:07.203Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:54:07.204Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:54:07.205Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:54:07.205Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:54:07.206Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:07.206Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:54:07.207Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:07.214Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:54:07.214Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:54:07.215Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:54:07.216Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:54:07.216Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:54:07.270Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:54:07.270Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:54:07.271Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:54:07.271Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:54:07.272Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:07.272Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:54:07.273Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:08.702Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:54:08.702Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:54:08.703Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:54:08.704Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:54:08.704Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:54:08.757Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:54:08.757Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:54:08.758Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:54:08.758Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:54:08.758Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:08.759Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:54:08.760Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:08.763Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:54:08.764Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:54:08.765Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:54:08.765Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:54:08.766Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:54:08.819Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:54:08.819Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:54:08.820Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:54:08.820Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:54:08.821Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:08.821Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:54:08.822Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:15.562Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:54:15.562Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:54:15.564Z DEBUG 106408 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@55b5ea04]
2025-11-05T16:54:15.564Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:54:15.564Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:54:15.565Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:54:15.565Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:54:15.565Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:54:15.565Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:54:15.729Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:54:15.730Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:54:15.730Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:54:15.731Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:54:15.733Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:54:15.738Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63
2025-11-05T16:54:15.740Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:15.741Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@128c7270]
2025-11-05T16:54:15.742Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:54:17.739Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:54:17.739Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:54:17.739Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:54:17.739Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:54:17.740Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:54:17.740Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:54:17.740Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:54:17.741Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:54:17.741Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:54:17.746Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:17.746Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:54:17.750Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:17.757Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:54:17.757Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:54:17.758Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:54:17.758Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:54:17.760Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:17.761Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:54:17.764Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:17.794Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:54:17.795Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:54:17.795Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:54:17.796Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:54:17.796Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:17.797Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:54:17.797Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:17.805Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:54:17.805Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:54:17.806Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:54:17.806Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:54:17.807Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:54:17.860Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:54:17.860Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:54:17.861Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:54:17.861Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:54:17.862Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:17.862Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:54:17.864Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:20.079Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/bd67cda0-99dc-4652-a9bd-c63c6b7fdd63", parameters={}
2025-11-05T16:54:20.079Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:54:20.079Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:54:20.080Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63
2025-11-05T16:54:20.082Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:20.082Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2a7797fe]
2025-11-05T16:54:20.083Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:20.087Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/bd67cda0-99dc-4652-a9bd-c63c6b7fdd63", parameters={}
2025-11-05T16:54:20.087Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:54:20.088Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:54:20.088Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63
2025-11-05T16:54:20.090Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:20.090Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2d73a5e3]
2025-11-05T16:54:20.092Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:26.760Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/bd67cda0-99dc-4652-a9bd-c63c6b7fdd63/status", parameters={}
2025-11-05T16:54:26.761Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:54:26.763Z DEBUG 106408 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=ASSIGNED, note=teste}]
2025-11-05T16:54:26.763Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:54:26.764Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63, newStatus: ASSIGNED
2025-11-05T16:54:26.764Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63
2025-11-05T16:54:26.770Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:54:26.773Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:26.773Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@40b70cdd]
2025-11-05T16:54:26.776Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:28.120Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:54:28.121Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:54:28.122Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:54:28.122Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:54:28.127Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:28.128Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:54:28.136Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:29.511Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/bd67cda0-99dc-4652-a9bd-c63c6b7fdd63", parameters={}
2025-11-05T16:54:29.511Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:54:29.511Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:54:29.511Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63
2025-11-05T16:54:29.513Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:29.513Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@126d6887]
2025-11-05T16:54:29.514Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:29.517Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/bd67cda0-99dc-4652-a9bd-c63c6b7fdd63", parameters={}
2025-11-05T16:54:29.517Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:54:29.517Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:54:29.517Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63
2025-11-05T16:54:29.519Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:29.519Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@603cd7fc]
2025-11-05T16:54:29.520Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:36.179Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/bd67cda0-99dc-4652-a9bd-c63c6b7fdd63/status", parameters={}
2025-11-05T16:54:36.180Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:54:36.181Z DEBUG 106408 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=COMPLETED, note=ok}]
2025-11-05T16:54:36.182Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:54:36.182Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63, newStatus: COMPLETED
2025-11-05T16:54:36.182Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: bd67cda0-99dc-4652-a9bd-c63c6b7fdd63
2025-11-05T16:54:36.189Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:54:36.193Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:36.193Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@53271ba7]
2025-11-05T16:54:36.195Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:54:37.745Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:54:37.745Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:54:37.745Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:54:37.745Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:54:37.747Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:54:37.747Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:54:37.749Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:55:06.876Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:55:06.876Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:55:06.877Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:55:06.877Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:55:06.877Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:55:07.039Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:55:07.040Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:55:07.041Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:55:07.041Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:55:07.042Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:55:07.042Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:55:07.043Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:55:07.050Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:55:07.050Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:55:07.051Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:55:07.052Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:55:07.052Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:55:07.104Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:55:07.104Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:55:07.105Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:55:07.105Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:55:07.106Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:55:07.106Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:55:07.107Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:55:25.378Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:55:25.380Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:55:25.383Z DEBUG 106408 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@36ed1408]
2025-11-05T16:55:25.383Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:55:25.383Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:55:25.384Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:55:25.384Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:55:25.386Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:55:25.386Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:55:25.552Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:55:25.553Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:55:25.554Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:55:25.554Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:55:25.555Z  WARN 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Attempted to create booking with past date: 2025-11-02
2025-11-05T16:55:25.555Z ERROR 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : Validation error: Date cannot be in the past
2025-11-05T16:55:25.556Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:55:25.557Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:55:25.557Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-11-05T16:55:38.475Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:55:38.475Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:55:38.477Z DEBUG 106408 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@1cc348a6]
2025-11-05T16:55:38.477Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:55:38.477Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:55:38.478Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:55:38.478Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:55:38.479Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:55:38.479Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:55:38.660Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:55:38.661Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:55:38.661Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:55:38.661Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:55:38.666Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:55:38.679Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:55:38.679Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:55:38.680Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@204ec745]
2025-11-05T16:55:38.680Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:55:48.690Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:55:48.691Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:55:48.692Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:55:48.692Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:55:48.698Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:55:48.699Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2a18c575]
2025-11-05T16:55:48.702Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:55:52.918Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:55:52.918Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:55:52.919Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:55:52.919Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:55:52.919Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:55:53.095Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:55:53.095Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:55:53.096Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:55:53.097Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:55:53.097Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:55:53.098Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:55:53.099Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:55:53.106Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:55:53.107Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:55:53.107Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:55:53.107Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:55:53.107Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:55:53.163Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:55:53.164Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:55:53.164Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:55:53.164Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:55:53.165Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:55:53.165Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:55:53.166Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:01.321Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:56:01.321Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:56:01.322Z DEBUG 106408 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@46b0678f]
2025-11-05T16:56:01.322Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:56:01.322Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:56:01.322Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:56:01.322Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:56:01.322Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:56:01.322Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:56:01.481Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:56:01.481Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:56:01.481Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:56:01.481Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:56:01.483Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:56:01.486Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: 2d3e1007-f1ea-4dae-ba31-101be87f4fc1
2025-11-05T16:56:01.487Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:01.487Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@67eb5db7]
2025-11-05T16:56:01.488Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:56:16.622Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/bookings", parameters={}
2025-11-05T16:56:16.623Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#createBooking(BookingDTO)
2025-11-05T16:56:16.625Z DEBUG 106408 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [pt.rodrigo.hw1_tqs.dto.BookingDTO@6066e627]
2025-11-05T16:56:16.625Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : POST /api/bookings - Creating booking
2025-11-05T16:56:16.625Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : Received new booking request DTO
2025-11-05T16:56:16.625Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Creating new booking
2025-11-05T16:56:16.625Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:56:16.626Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:56:16.626Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:56:16.805Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:56:16.805Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:56:16.806Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:56:16.807Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:56:16.809Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Checked booking capacity against maxBookingsPerDay.
2025-11-05T16:56:16.813Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Booking created successfully with token: e0fe6bc8-8b64-4447-be85-f7de210bd7be
2025-11-05T16:56:16.815Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:16.815Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@447094db]
2025-11-05T16:56:16.816Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-11-05T16:56:18.932Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:56:18.932Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:56:18.932Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:56:18.932Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:56:18.933Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:56:18.934Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:56:18.934Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:56:18.934Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:56:18.934Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:56:18.942Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:18.943Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:56:18.948Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:18.951Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:56:18.951Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:56:18.952Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:56:18.952Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:56:18.954Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:18.954Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:56:18.957Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:18.991Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:56:18.992Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:56:18.992Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:56:18.992Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:56:18.992Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:18.992Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:56:18.994Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:19.000Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:56:19.000Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:56:19.000Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:56:19.001Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:56:19.001Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:56:19.059Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:56:19.059Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:56:19.059Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:56:19.059Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:56:19.059Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:19.060Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:56:19.060Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:36.821Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?date=2025-11-13&page=0&size=100", parameters={masked}
2025-11-05T16:56:36.821Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:56:36.823Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:56:36.823Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: 2025-11-13, status: null
2025-11-05T16:56:36.826Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:36.826Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:56:36.827Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:46.806Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?date=2025-11-17&page=0&size=100", parameters={masked}
2025-11-05T16:56:46.806Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:56:46.807Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:56:46.807Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: 2025-11-17, status: null
2025-11-05T16:56:46.810Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:46.810Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:56:46.813Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:50.716Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:56:50.716Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:56:50.716Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:56:50.716Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:56:50.718Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:50.718Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:56:50.720Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:56:57.867Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?status=RECEIVED&page=0&size=100", parameters={masked}
2025-11-05T16:56:57.867Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:56:57.869Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:56:57.869Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: RECEIVED
2025-11-05T16:56:57.874Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:56:57.874Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:56:57.877Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:00.155Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:57:00.155Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:57:00.157Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:57:00.157Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:57:00.161Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:00.162Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:57:00.168Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:17.591Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?municipality=Abrantes&date=2025-11-17&page=0&size=100", parameters={masked}
2025-11-05T16:57:17.591Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:57:17.592Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:57:17.592Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: Abrantes, date: 2025-11-17, status: null
2025-11-05T16:57:17.595Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:17.596Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:57:17.598Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:21.190Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:57:21.190Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:57:21.191Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:57:21.191Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:21.193Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:21.193Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@6291da1e]
2025-11-05T16:57:21.194Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:21.196Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:57:21.197Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:57:21.198Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:57:21.198Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:21.199Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:21.200Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5d0b0196]
2025-11-05T16:57:21.200Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:29.458Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3/status", parameters={}
2025-11-05T16:57:29.458Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:57:29.460Z DEBUG 106408 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=IN_PROGRESS, note=A caminho}]
2025-11-05T16:57:29.460Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:57:29.460Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3, newStatus: IN_PROGRESS
2025-11-05T16:57:29.460Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:29.463Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:57:29.465Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:29.465Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@49cf5f68]
2025-11-05T16:57:29.466Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:32.216Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?municipality=Abrantes&date=2025-11-17&page=0&size=100", parameters={masked}
2025-11-05T16:57:32.216Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:57:32.218Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:57:32.218Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: Abrantes, date: 2025-11-17, status: null
2025-11-05T16:57:32.224Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:32.224Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:57:32.228Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:33.095Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:57:33.095Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:57:33.095Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:57:33.095Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:33.097Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:33.097Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@7fa970e0]
2025-11-05T16:57:33.098Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:33.107Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:57:33.108Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:57:33.109Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:57:33.109Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:33.114Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:33.114Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5dae8f3c]
2025-11-05T16:57:33.117Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:39.986Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:57:39.987Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:57:39.988Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:57:39.989Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:57:39.990Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:57:40.157Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:57:40.157Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:57:40.158Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:57:40.159Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:57:40.159Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:40.159Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:57:40.160Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:40.164Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:57:40.165Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:57:40.165Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:57:40.165Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:57:40.165Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:57:40.218Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:57:40.219Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:57:40.219Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:57:40.219Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:57:40.220Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:40.220Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:57:40.221Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:41.675Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:57:41.676Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:57:41.676Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:57:41.677Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:57:41.677Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:57:41.730Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:57:41.731Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:57:41.731Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:57:41.731Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:57:41.732Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:41.732Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:57:41.733Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:41.738Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:57:41.739Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:57:41.740Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:57:41.741Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:57:41.741Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:57:41.795Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:57:41.795Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:57:41.796Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:57:41.796Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:57:41.797Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:41.797Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:57:41.798Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:45.350Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:57:45.350Z DEBUG 106408 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:57:45.351Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:57:45.352Z  INFO 106408 --- [http-nio-8080-exec-5] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:45.359Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:45.360Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@5d7c04fe]
2025-11-05T16:57:45.363Z DEBUG 106408 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:52.693Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:57:52.693Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:57:52.693Z DEBUG 106408 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:57:52.693Z DEBUG 106408 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:57:52.693Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:57:52.694Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:57:52.694Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:57:52.694Z  INFO 106408 --- [http-nio-8080-exec-8] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:57:52.694Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:57:52.697Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:52.697Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:57:52.704Z DEBUG 106408 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:52.708Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:57:52.708Z DEBUG 106408 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:57:52.709Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:57:52.709Z  INFO 106408 --- [http-nio-8080-exec-9] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:57:52.711Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:52.711Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:57:52.713Z DEBUG 106408 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:52.854Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:57:52.854Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:57:52.855Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:57:52.855Z  INFO 106408 --- [http-nio-8080-exec-10] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:57:52.855Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:52.855Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:57:52.856Z DEBUG 106408 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:52.861Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/municipalities", parameters={}
2025-11-05T16:57:52.861Z DEBUG 106408 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.MunicipalityController#getAllMunicipalities()
2025-11-05T16:57:52.862Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Fetching municipalities from: https://geoapi.pt/municipios?json=true
2025-11-05T16:57:52.862Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://geoapi.pt/municipios?json=true
2025-11-05T16:57:52.862Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-11-05T16:57:52.914Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-11-05T16:57:52.914Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.List<java.lang.String>]
2025-11-05T16:57:52.915Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Received 308 municipalities
2025-11-05T16:57:52.915Z  INFO 106408 --- [http-nio-8080-exec-7] p.r.h.services.MunicipalityServiceImpl   : Returning 308 municipality names
2025-11-05T16:57:52.916Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:52.916Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Abrantes, Aguiar da Beira, Alandroal, Albergaria-a-velha, Albufeira, Alcanena, Alcobaa, Alcochete, (truncated)...]
2025-11-05T16:57:52.917Z DEBUG 106408 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:55.511Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:57:55.511Z DEBUG 106408 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:57:55.511Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:57:55.511Z  INFO 106408 --- [http-nio-8080-exec-3] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:55.513Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:55.513Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@92c93f0]
2025-11-05T16:57:55.514Z DEBUG 106408 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:55.519Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3", parameters={}
2025-11-05T16:57:55.519Z DEBUG 106408 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#getBookingByToken(String)
2025-11-05T16:57:55.519Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.h.controllers.BookingController      : GET /api/bookings/{token} - Fetching booking
2025-11-05T16:57:55.519Z  INFO 106408 --- [http-nio-8080-exec-1] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:55.521Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:55.522Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@49213a8e]
2025-11-05T16:57:55.524Z DEBUG 106408 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:57:58.680Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3/status", parameters={}
2025-11-05T16:57:58.680Z DEBUG 106408 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:57:58.682Z DEBUG 106408 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=RECEIVED, note=}]
2025-11-05T16:57:58.682Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:57:58.683Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3, newStatus: RECEIVED
2025-11-05T16:57:58.683Z  INFO 106408 --- [http-nio-8080-exec-2] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:57:58.686Z ERROR 106408 --- [http-nio-8080-exec-2] p.r.h.controllers.BookingController      : Error updating status: Cannot change status back to RECEIVED
2025-11-05T16:57:58.687Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:57:58.687Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-05T16:57:58.687Z DEBUG 106408 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-11-05T16:58:09.394Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/bookings/536e6e5a-99e6-49f9-881b-e9c38f3540f3/status", parameters={}
2025-11-05T16:58:09.394Z DEBUG 106408 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#updateBookingStatus(String, Map)
2025-11-05T16:58:09.396Z DEBUG 106408 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{newStatus=COMPLETED, note=Chegamos}]
2025-11-05T16:58:09.396Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.h.controllers.BookingController      : PUT /api/bookings/{token}/status - Updating status
2025-11-05T16:58:09.396Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Updating booking status - token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3, newStatus: COMPLETED
2025-11-05T16:58:09.396Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Fetching booking by token: 536e6e5a-99e6-49f9-881b-e9c38f3540f3
2025-11-05T16:58:09.402Z  INFO 106408 --- [http-nio-8080-exec-4] p.r.hw1_tqs.services.BookingServiceImpl  : Booking status updated successfully
2025-11-05T16:58:09.405Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:58:09.405Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [pt.rodrigo.hw1_tqs.entities.Booking@2a87593f]
2025-11-05T16:58:09.407Z DEBUG 106408 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:58:10.992Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/bookings?page=0&size=100", parameters={masked}
2025-11-05T16:58:10.993Z DEBUG 106408 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to pt.rodrigo.hw1_tqs.controllers.BookingController#searchBookings(String, LocalDate, BookingStatus, int, int)
2025-11-05T16:58:10.994Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.h.controllers.BookingController      : GET /api/bookings - Searching bookings
2025-11-05T16:58:10.994Z  INFO 106408 --- [http-nio-8080-exec-6] p.r.hw1_tqs.services.BookingServiceImpl  : Searching bookings - municipality: null, date: null, status: null
2025-11-05T16:58:10.998Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-11-05T16:58:10.998Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing pt.rodrigo.hw1_tqs.entities.Booking instances]
2025-11-05T16:58:11.011Z DEBUG 106408 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-05T16:59:25.323Z  INFO 106408 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05T16:59:25.329Z  INFO 106408 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-05T16:59:25.338Z  INFO 106408 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05T16:59:25.356Z  WARN 106408 --- [SpringApplicationShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05T16:59:25.357Z  INFO 106408 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-05T16:59:25.359Z  INFO 106408 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
